"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{5795:function(a,b,c){c.d(b,{sr:function(){return g},Mh:function(){return h},Fc:function(){return i}});var d=c(7264),e=c(2569),f=c(5250);c(79);var g=function(a){return(0,f.jsx)("svg",(0,e.Z)((0,d.Z)({xmlns:"http://www.w3.org/2000/svg",className:"key_svg__ionicon",viewBox:"0 0 512 512"},a),{children:(0,f.jsx)("path",{d:"M218.1 167.17c0 13 0 25.6 4.1 37.4-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 0 0-6.7 15c0 8.5 5.2 16.7 9.6 21.3 6.6 6.9 34.8 33 40 28 15.4-15 18.5-19 24.8-25.2 9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4 15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2 5-4.6 8.6-8.9 8.7-15.6.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5 22.8-15.5 24.1-21.6-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4 15.5 6.7 29.6 9.4 47.7 9.4 68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 1 1-32-32 32 32 0 0 1 32 32z"})}))},h=function(a){return(0,f.jsx)("svg",(0,e.Z)((0,d.Z)({xmlns:"http://www.w3.org/2000/svg",className:"mail_svg__ionicon",viewBox:"0 0 512 512"},a),{children:(0,f.jsx)("path",{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z"})}))},i=function(a){return(0,f.jsx)("svg",(0,e.Z)((0,d.Z)({xmlns:"http://www.w3.org/2000/svg",className:"person_svg__ionicon",viewBox:"0 0 512 512"},a),{children:(0,f.jsx)("path",{d:"M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 0 1-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 0 1 432 480z"})}))}},3915:function(a,b,c){c.d(b,{Z:function(){return M}});var d=c(5250),e=c(1168),f=c(7128),g=c(1249),h=c(4717),i=c.n(h),j=c(79),k=c(2031),l=c(6962),m=c(2343),n=c(796),o=c(7284),p=c(8432),q=c(7264),r=c(2569),s=c(1057),t=c(1742),u=c(8053),v=c(5271),w=c(7662),x=c(592),y=c.n(x),z=c(5795),A=c(1491),B=c(9235),C=c(8764),D=c(6734),E=function(a){var b,c=a.visible,e=a.onClose,f=a.href,h=(0,D.useRouter)(),k=(0,B.bO)(),m=(0,B.US)(function(a){return a.user}),n=(0,j.useState)(m),x=(n[0],n[1]),E=(0,C.cI)({mode:"onSubmit",defaultValues:{email:"",password:""}}),F=E.register,G=E.control,H=E.handleSubmit,I=E.formState.errors,J=E.setError,K=(b=(0,g.Z)(i().mark(function a(b){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.WY.post("/auth/signin",{user:{email:b.email,password:b.password}}).then(function(){var a=(0,g.Z)(i().mark(function a(b){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(k((0,A.N)(b.data)),x(b.data),e(),a.t0=f,!a.t0){a.next=7;break}return a.next=7,h.push(f);case 7:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(){J("password",{type:"custom",message:"Invalid email and or password"})});case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)});return(0,d.jsxs)(s.ZP,{closeButton:!0,blur:!0,"aria-labelledby":"modal-title",open:void 0!==c&&c,onClose:e,children:[(0,d.jsx)(s.ZP.Header,{children:(0,d.jsxs)(t.ZP.Container,{css:{pl:"$6"},children:[(0,d.jsx)(t.ZP,{justify:"center",xs:12,children:(0,d.jsx)(l.Z,{h4:!0,css:{lineHeight:"$xs"},children:"Welcome to Sweatshop Digital"})}),(0,d.jsx)(t.ZP,{justify:"center",xs:12,children:(0,d.jsx)(l.Z,{children:(0,d.jsx)(y(),{href:"/auth/signup",children:(0,d.jsx)(u.ZP,{children:"Don't have an account? Sign Up!"})})})})]})}),(0,d.jsx)(s.ZP.Body,{children:(0,d.jsxs)("form",{id:"signin",onSubmit:H(K),children:[(0,d.jsx)(C.Qr,{name:"email",control:G,render:function(){var a;return(0,d.jsx)(v.ZP,(0,r.Z)((0,q.Z)({},F("email")),{id:"emailInput","aria-label":"Email Input",clearable:!0,bordered:!0,fullWidth:!0,size:"lg",placeholder:"Email",color:(null===(a=I.password)|| void 0===a?void 0:a.message)?"error":"default",contentLeft:(0,d.jsx)(z.Mh,{fill:"currentColor"})}))}}),(0,d.jsx)(w.Z,{y:.5}),(0,d.jsx)(C.Qr,{name:"password",control:G,render:function(){var a,b;return(0,d.jsx)(v.ZP,(0,r.Z)((0,q.Z)({},F("password")),{id:"passwordInput","aria-label":"Password Input",clearable:!0,bordered:!0,fullWidth:!0,label:null===(a=I.password)|| void 0===a?void 0:a.message,size:"lg",placeholder:"Password",color:(null===(b=I.password)|| void 0===b?void 0:b.message)?"error":"default",contentLeft:(0,d.jsx)(z.sr,{fill:"currentColor"})}))}})]})}),(0,d.jsxs)(s.ZP.Footer,{justify:"center",children:[(0,d.jsx)(o.ZP,{"aria-label":"Cancel sign in button",auto:!0,flat:!0,color:"error",onClick:e,children:"Cancel"}),(0,d.jsx)(o.ZP,{"aria-label":"Sign in button",auto:!0,type:"submit",form:"signin",shadow:!0,children:"Sign in"})]})]})},F=(0,j.memo)(E),G=function(){var a,b,c=(0,B.bO)(),e=(0,B.US)(function(a){return a.user}),f=(0,j.useState)(!1),h=f[0],q=f[1],r=function(){q(!0)},s=function(){q(!1)},t=(a=(0,g.Z)(i().mark(function a(b){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("signout"!==b){a.next=3;break}return a.next=3,u();case 3:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}),u=(b=(0,g.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.WY.post("/auth/signout").then(function(a){c((0,A.N)(null))});case 2:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return(0,d.jsxs)(k.ZP,{"aria-label":"Navigation Bar",isBordered:!0,variant:"floating",children:[(0,d.jsx)(k.ZP.Brand,{children:(0,d.jsx)(l.Z,{h3:!0,b:!0,color:"inherit",hideIn:"xs",children:"Sweatshop Digital"})}),(0,d.jsx)(k.ZP.Content,{children:(0,d.jsx)(l.Z,{children:"About Us"})}),(0,d.jsxs)(k.ZP.Content,{children:[(0,d.jsx)(F,{visible:h,onClose:s}),e?(0,d.jsxs)(m.ZP,{placement:"bottom-right",children:[(0,d.jsx)(k.ZP.Item,{children:(0,d.jsx)(m.ZP.Trigger,{children:(0,d.jsx)(n.ZP,{"aria-label":"User Avatar",src:e.avatar||"https://avatars.dicebear.com/api/identicon/".concat(e.name,".svg")})})}),(0,d.jsxs)(m.ZP.Menu,{"aria-label":"User menu actions",color:"secondary",onAction:t,children:[(0,d.jsxs)(m.ZP.Item,{children:[(0,d.jsx)(l.Z,{b:!0,color:"inherit",css:{d:"flex"},children:"Signed in as"}),(0,d.jsx)(l.Z,{b:!0,color:"inherit",css:{d:"flex"},children:e.name})]},"profile"),(0,d.jsx)(m.ZP.Item,{withDivider:!0,color:"error",children:"Sign Out"},"signout")]})]}):(0,d.jsx)(o.ZP,{"aria-label":"Login Button",shadow:!0,color:"secondary",onPress:r,children:"Login"})]})]})},H=(0,j.memo)(G),I=c(504),J=function(){return(0,d.jsx)(e.Z,{responsive:!0,css:{position:"fixed",bottom:0,padding:12},children:(0,d.jsx)(I.Z,{justify:"center",children:(0,d.jsx)(l.Z,{children:"\xa9 2022 Sweatshop Digital. All rights reserved"})})})},K=(0,j.memo)(J),L=function(a){var b=a.children,c=a.loading,g=a.includeNavBar;return(0,d.jsxs)(e.Z,{children:[(void 0===g||g)&&(0,d.jsx)(H,{}),void 0!==c&&c?(0,d.jsx)(f.ZP,{indeterminated:!0,value:50,color:"secondary",status:"secondary"}):(0,d.jsx)(d.Fragment,{children:b}),(0,d.jsx)(K,{})]})},M=L},1491:function(a,b,c){c.d(b,{N:function(){return d.N}});var d=c(89)},8432:function(a,b,c){c.d(b,{WY:function(){return j}});var d,e=c(1249),f=c(4717),g=c.n(f),h=c(2295),i=c.n(h),j=i().create({baseURL:"http://localhost:4000/v1/",withCredentials:!0,headers:{"Content-type":"application/json"}});(0,e.Z)(g().mark(function a(b){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.get("/users/".concat(b));case 2:case"end":return a.stop()}},a)}))}}])