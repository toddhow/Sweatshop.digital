(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{4061:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return c(2942)}])},2942:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return G}});var d=c(5250),e=c(79),f=c(3915),g=c(1249),h=c(7264),i=c(2569),j=c(4717),k=c.n(j),l=c(1884),m=c(1742),n=c(6962),o=c(8053),p=c(5271),q=c(7284),r=c(592),s=c.n(r),t=c(5795),u=c(8432),v=c(8764),w=c(1491),x=c(9235),y=c(1100),z=c(3156),A=c(6734),B=(0,z.Ry)({username:(0,z.Z_)().required(),email:(0,z.Z_)().email().required(),password:(0,z.Z_)().required()}),C=function(){var a,b,c=(0,A.useRouter)(),f=(0,x.bO)(),j=(0,x.US)(function(a){return a.user}),r=(0,e.useState)(j),z=(r[0],r[1]),C=(0,v.cI)({mode:"onSubmit",defaultValues:{username:"",email:"",password:""},resolver:(0,y.X)(B)}),D=C.register,E=C.control,F=C.handleSubmit,G=C.formState.errors,H=C.setError,I=(a=(0,g.Z)(k().mark(function a(b){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.WY.post("/auth/signup",{user:{name:b.username,email:b.email,password:b.password}}).then((0,g.Z)(k().mark(function a(){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.WY.post("/auth/signin",{user:{email:b.email,password:b.password}}).then(function(){var a=(0,g.Z)(k().mark(function a(b){return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f((0,w.N)(b.data)),z(b.data),a.next=4,c.push("/");case 4:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}},a)}))).catch(function(){H("email",{type:"custom"})});case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,d.jsxs)(l.ZP,{"aria-labelledby":"signin-card",children:[(0,d.jsx)(l.ZP.Header,{children:(0,d.jsxs)(m.ZP.Container,{css:{pl:"$6"},children:[(0,d.jsx)(m.ZP,{justify:"center",xs:12,children:(0,d.jsx)(n.Z,{h4:!0,css:{lineHeight:"$xs"},children:"Welcome to Sweatshop Digital"})}),(0,d.jsx)(m.ZP,{justify:"center",xs:12,children:(0,d.jsx)(n.Z,{children:(0,d.jsx)(s(),{href:"/auth/signin",children:(0,d.jsx)(o.ZP,{children:"Already have an account? Sign in!"})})})})]})}),(0,d.jsx)(l.ZP.Body,{children:(0,d.jsx)("form",{id:"signup",onSubmit:F(I),children:(0,d.jsxs)(m.ZP.Container,{gap:1,direction:"column",children:[(0,d.jsx)(m.ZP,{children:(0,d.jsx)(v.Qr,{name:"username",control:E,render:function(){return(0,d.jsx)(p.ZP,(0,i.Z)((0,h.Z)({},D("username")),{clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"lg",placeholder:"Username",contentLeft:(0,d.jsx)(t.Fc,{fill:"currentColor"})}))}})}),(0,d.jsxs)(m.ZP,{children:[(0,d.jsx)(v.Qr,{name:"email",control:E,render:function(){return(0,d.jsx)(p.ZP,(0,i.Z)((0,h.Z)({},D("email")),{clearable:!0,bordered:!0,fullWidth:!0,status:G.email?"error":"default",color:"primary",size:"lg",placeholder:"Email",contentLeft:(0,d.jsx)(t.Mh,{fill:"currentColor"})}))}}),G.email&&(0,d.jsx)(n.Z,{small:!0,css:{margin:"$1 0 0 $5",transition:"opacity 0.25s ease"},children:(null===(b=G.email)|| void 0===b?void 0:b.type)==="custom"?"A user with that email already exists":"The email you provided is invalid"})]}),(0,d.jsx)(m.ZP,{children:(0,d.jsx)(v.Qr,{name:"password",control:E,render:function(){return(0,d.jsx)(p.ZP,(0,i.Z)((0,h.Z)({},D("password")),{clearable:!0,bordered:!0,fullWidth:!0,color:"primary",size:"lg",placeholder:"Password",contentLeft:(0,d.jsx)(t.sr,{fill:"currentColor"})}))}})})]})})}),(0,d.jsx)(l.ZP.Footer,{children:(0,d.jsx)(q.ZP,{auto:!0,form:"signup",type:"submit",color:"success",shadow:!0,children:"Sign up"})})]})},D=(0,e.memo)(C),E=c(1168),F=function(){var a=(0,e.useState)(!1),b=a[0];return a[1],(0,d.jsx)(f.Z,{loading:b,includeNavBar:!1,children:(0,d.jsx)(E.Z,{xs:!0,css:{mt:"13%"},children:(0,d.jsx)(D,{})})})},G=F}},function(a){a.O(0,[736,860,915,774,888,179],function(){var b;return a(a.s=4061)}),_N_E=a.O()}])